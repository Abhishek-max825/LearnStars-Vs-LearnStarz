<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Learnstarz — View Analysis</title>
    <meta name="description" content="Learnstarz view analysis shows growing engagement with animated charts and visuals." />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%E2%98%85%3C/text%3E%3C/svg%3E" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <a class="skip-link" href="#main">Skip to content</a>
    <header class="site-header">
        <div class="brand">
            <span class="logo">★</span>
            <h1>Learnstarz</h1>
            <span class="tag">Films</span>
        </div>
        <nav class="nav">
            <a href="./index.html">Home</a>
            <a class="cta" href="#" aria-current="page">View Analysis</a>
        </nav>
    </header>

    <main id="main" class="analysis-hero">
        <h2>View Analysis</h2>
        <p class="muted">Recent audience engagement across featured films.</p>
        <div class="kpi-row">
            <div class="kpi">
                <div>Total Views (30d)</div>
                <div style="font-size:22px;font-weight:700">612,890</div>
                <div class="trend good">▲ 42% vs. prior 30d</div>
            </div>
            <div class="kpi">
                <div>Avg. Watch Time</div>
                <div style="font-size:22px;font-weight:700">7m 26s</div>
                <div class="trend good">▲ 18%</div>
            </div>
            <div class="kpi">
                <div>Bounce Rate</div>
                <div style="font-size:22px;font-weight:700">49%</div>
                <div class="trend good">▼ 11%</div>
            </div>
        </div>

        <div class="chart-card">
            <canvas id="viewsChart"></canvas>
        </div>
    </main>

    <svg class="sparkles" width="100%" height="100%">
        <defs>
            <radialGradient id="glow" cx="50%" cy="50%">
                <stop offset="0%" stop-color="#ff4d4d" stop-opacity=".9" />
                <stop offset="100%" stop-color="#ff4d4d" stop-opacity="0" />
            </radialGradient>
        </defs>
        <circle id="s1" r="18" fill="url(#glow)"></circle>
        <circle id="s2" r="12" fill="url(#glow)"></circle>
        <circle id="s3" r="16" fill="url(#glow)"></circle>
    </svg>

    <button class="back-to-top" aria-label="Back to top" title="Back to top">↑</button>
    <script>
    const ctx = document.getElementById('viewsChart');
    const labels = Array.from({length: 30}, (_, i) => `Day ${i+1}`);
    // Generate an increasing curve with momentum
    const start = 9000;
    const data = labels.map((_, i) => Math.round(start * Math.pow(1.10, i/3) + (Math.random()*900-400)));

    new Chart(ctx, {
        type: 'line',
        data: {
            labels,
            datasets: [{
                label: 'Views per Day',
                data,
                borderColor: '#66e3a0',
                backgroundColor: 'rgba(102,227,160,.15)',
                fill: true,
                tension: .35,
                pointRadius: 0
            }]
        },
        options: {
            responsive: true,
            animation: {
                duration: 1600,
                easing: 'easeOutQuart'
            },
            scales: {
                x: { grid: { color: 'rgba(255,255,255,.06)' }, ticks: { color: '#a9b3c7' } },
                y: { grid: { color: 'rgba(255,255,255,.06)' }, ticks: { color: '#a9b3c7' } }
            },
            plugins: {
                legend: { labels: { color: '#e6e9f2' } },
                tooltip: { backgroundColor: 'rgba(15,20,33,.95)', borderColor: 'rgba(255,255,255,.1)', borderWidth: 1 }
            }
        }
    });

    // Floating sparkles with parallax drift
    const svgns = 'http://www.w3.org/2000/svg';
    const svg = document.querySelector('.sparkles');
    const circles = [document.getElementById('s1'), document.getElementById('s2'), document.getElementById('s3')];
    function animateSparkles(t){
        const { width, height } = svg.getBoundingClientRect();
        circles.forEach((c, idx) => {
            const speed = 0.2 + idx*0.1;
            const x = (Math.sin((t/1000) * speed + idx) * 0.4 + 0.5) * width;
            const y = (Math.cos((t/1100) * speed + idx*1.2) * 0.25 + 0.55) * height;
            c.setAttribute('cx', x);
            c.setAttribute('cy', y);
        });
        requestAnimationFrame(animateSparkles);
    }
    requestAnimationFrame(animateSparkles);
    </script>
</body>
</html>


